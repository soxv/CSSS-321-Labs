---
title: "CSSS/SOC/STAT 321: Lab 1"
subtitle: "Introduction to R/RStudio"
author: "Tao Lin"
format: 
  revealjs:
    smaller: true
    scrollable: true
    self-contained: true
    footer: "CSSS/SOC/STAT 321 Data Science and Statistics for Social Scicence I"
    logo: "https://csss.uw.edu/assets/csss-logo.png"
filters:
  - reveal-auto-agenda
auto-agenda:
  bullets: bullets
  heading: Agenda
---

# Introduction

## Logistics

- Labs:
  - AC: Wed & Fri 11:30 am - 12:20 pm, Denny 213
  - AD: Wed & Fri 12:30 pm - 1:20 pm, Thompson 334
- Office Hours:
  - Fri 1:30 pm - 2:30 pm or by appointment, Smith 35
- The Goal of Labs
  - Review Course Materials, esp. readings and assignments.
  - Develop Coding Skills and Practices in `R`.
- Lab Materials are published at [https://github.com/soxv/CSSS-321-Labs](https://github.com/soxv/CSSS-321-Labs).
  - I also post slides on Canvas, but will sometimes update previous slides in the GitHub repo.

## Important Deadlines

- QSS Tutorials: due every Tuesday
- Problem Sets
  - Problem Set 1 (Randomized Experiments): April 16
  - Problem Set 2 (Summarizing Data): April 30
  - Problem Set 3 (Regression): May 21
  - Problem Set 4 (Inference): June 4
- Midterm: May 12
- Final Project
  - Proposals: April 21
  - (Initial) Analyses: May 19
  - Final Reports: June 7

## How to Look for Help?

- Use `help()` or `?` to check out function documentation.
- Just google the error message and find them on Stack Overflow or GitHub!
- New options in the AI era: [ChatGPT](https://chat.openai.com/chat) or [New Bing](https://www.bing.com/new)!
- We use Canvas discussion board for Q&A and troubleshooting
  - People encountering similar problems can see how to solve them (avoid "reinventing the wheel").
  - We encourage you to help your peers on the discussion board.
  - If you have questions that cannot be covered by one single post, please come to my office hours.

::: {layout-ncol=2}

![](./img/debugtime.png){width=350}

![](./img/stackoverflow.jpeg){width=350}

:::

---

### Minimal Reproducible Example (MRE)

- "minimal": "look in a smaller stack to find a needle"
  - inputs are small and simple
  - fewer packages loaded
  - fewer function calls
- "reproducible": provide code that someone else could run
- Use [`reprex`](https://reprex.tidyverse.org/) and [`datapasta`](https://milesmcbain.github.io/datapasta/) to generate MRE! (see [https://www.rstudio.com/resources/webinars/help-me-help-you-creating-reproducible-examples/](https://www.rstudio.com/resources/webinars/help-me-help-you-creating-reproducible-examples/))

## Introduce Yourself!

- What is your major / year?
- Why do you take this course?
- What is your experience with data science and R?

# R and RStudio

## What is `R`?

- A free and open-source language for statistical computing and graphics.
- How to install `R` from [CRAN (The Comprehensive R Archive Network)](https://cloud.r-project.org/).
  - Mac:
    - choose "R-4.2.3-arm64.pkg" for Apple silicon Macs (M1 or higher)
    - otherwise choose "R-4.2.3.pkg".
  - Windows:
    - click "install R for the first time"
    - also click "RTools"
- Two components:
  - `R` console
    - run command on it to generate corresponding output.
    - analogy: musical instrument ðŸŽ»
  - `R` script:
    - record the command in plain text; easier for other people to circulate and reproduce your results.
    - analogy: written sheet music with notations ðŸŽ¼

## What is RStudio?

- An integrated development environment (IDE) for `R`. It includes:
  - `R` console
  - syntax-highlighting editor
  - tools for plotting, debugging, and workspace management
- TL;DR - RStudio provides various tools that makes `R` programming easier.
- Install RStudio from [Posit](https://posit.co/download/rstudio-desktop/).

## RStudio Setup

- Change Appearance and Pane Layout: `Tools` > `Global Options...` > `Appearance`/`Pane Layout`
- Donâ€™t save workspace to `.Rdata` on exit: `Tools` > `Global Options...` > `General` > "Save workspace to `.RData` on exit" > "Never"
- Donâ€™t restore `.Rdata` into workspace: `Tools` > `Global Options...` > `General` > uncheck "Restore `.RData` into workspace at startup"
  - Reloading a saved workspace may be convenient to you; but it makes your code less **reproducible** on other people's machine.

## Install Packages

- What is package?
  - a collection of R functions, compiled codes and datasets for reuse.
  - Important packages for this course:
    - `tidyverse`: a bundle of packages for data wrangling.
    - `rmarkdown`: write documents that embeds `R` code as well as its output.
    - `qsslearnr`: interactive tutorials for *Quantitative Social Science*
- Two actions
  - **Installing** package: download the package to your computer.
  - **Loading** package: tell `R` to use the package.
  - you only need to *install* once; but you need to *load* every time.
- Install packages from different sources
  - `install.packages("tidyverse")` downloads from CRAN by default.
  - `remotes::install_github("rstudio/learnr")` downloads from GitHub.
  - CRAN maintains packages with strict quality requirements by `R` core teams; GitHub maintains packages by individual developers or small teams that may not go through the same level of testing and quality control as CRAN packages.

---

```{r}
#| echo: true
#| eval: false

## Interactive Tutorials for Quantitative Social Science
## Written by Matthew Blackwell 
## See here: https://github.com/mattblackwell/qsslearnr

# 1. Install `remotes` package: install.packages(remotes)

## 2. Install the following packages by running:
remotes::install_github("kosukeimai/qss-package", build_vignettes = TRUE)
remotes::install_github("rstudio/learnr")
remotes::install_github("rstudio-education/gradethis")
remotes::install_github("mattblackwell/qsslearnr")

## 3. See all available tutorials for QSS
learnr::run_tutorial(package = "qsslearnr")

## 4. Run a particular tutorial
learnr::run_tutorial("00-intro", package = "qsslearnr")

## 5. If you have problems generating PDF from Rmarkdown
## install tinytex by running (takes some time!): 
# install.packages('tinytex')
# tinytex::install_tinytex()

```

- For Mac users, sometimes the installation of `qss` package may fail because `pandoc` or `curl` is not installed or upgraded (if you don't encounter these problems, no need to look at this!).
  - [`pandoc`](https://pandoc.org/) is used to convert documents to other types, e.g. convert `.html` to `.pdf` or `.docx`.
  - [`curl`](https://curl.se/) is used to transfer data through URLs.
  - To install or upgrade `pandoc` or `curl`, we can first install the package manager [Homebrew](https://brew.sh/), and then install them by using `brew install pandoc` or `brew install curl` in Mac Terminal.


---

# Voter Turnout Data

```{r}

turnout <- read.csv("./data/turnout.csv")
turnout

```



